# –ò—Å–ø—Ä–∞–≤–ª–µ–Ω–∏—è –æ—Ç 01.12.2024

## ‚úÖ –ò—Å–ø—Ä–∞–≤–ª–µ–Ω–æ

### 1. –û—à–∏–±–∫–∞ npm ci –≤ frontend Dockerfile
**–ü—Ä–æ–±–ª–µ–º–∞**: `npm ci` —Ç—Ä–µ–±—É–µ—Ç `package-lock.json`, –∫–æ—Ç–æ—Ä–æ–≥–æ –Ω–µ –±—ã–ª–æ

**–†–µ—à–µ–Ω–∏–µ**:
- –î–æ–±–∞–≤–ª–µ–Ω `package-lock.json` –≤ frontend
- Dockerfile.prod —Ç–µ–ø–µ—Ä—å –∞–≤—Ç–æ–º–∞—Ç–∏—á–µ—Å–∫–∏ –∏—Å–ø–æ–ª—å–∑—É–µ—Ç `npm install` –µ—Å–ª–∏ lock —Ñ–∞–π–ª–∞ –Ω–µ—Ç
- –ò—Å–ø—Ä–∞–≤–ª–µ–Ω—ã ENV warnings (–∏—Å–ø–æ–ª—å–∑—É–µ—Ç—Å—è —Å–∏–Ω—Ç–∞–∫—Å–∏—Å `ENV KEY=value`)

### 2. Git authentication –≤ GitHub Actions
**–ü—Ä–æ–±–ª–µ–º–∞**: `git pull` —Ç—Ä–µ–±–æ–≤–∞–ª –∞—É—Ç–µ–Ω—Ç–∏—Ñ–∏–∫–∞—Ü–∏—é

**–†–µ—à–µ–Ω–∏–µ**:
- GitHub Actions —Ç–µ–ø–µ—Ä—å –∏—Å–ø–æ–ª—å–∑—É–µ—Ç `git fetch` + `git reset --hard`
- –ê–≤—Ç–æ–º–∞—Ç–∏—á–µ—Å–∫–æ–µ –∫–ª–æ–Ω–∏—Ä–æ–≤–∞–Ω–∏–µ —Ä–µ–ø–æ–∑–∏—Ç–æ—Ä–∏—è –ø—Ä–∏ –ø–µ—Ä–≤–æ–º –∑–∞–ø—É—Å–∫–µ
- –ü–µ—Ä–µ–∫–ª—é—á–µ–Ω–∏–µ remote –Ω–∞ HTTPS –±–µ–∑ –∞—É—Ç–µ–Ω—Ç–∏—Ñ–∏–∫–∞—Ü–∏–∏

### 3. –ö–æ–Ω—Ñ–ª–∏–∫—Ç –ø–æ—Ä—Ç–æ–≤ 80/443
**–ü—Ä–æ–±–ª–µ–º–∞**: –ü–æ—Ä—Ç—ã –∑–∞–Ω—è—Ç—ã –¥—Ä—É–≥–∏–º–∏ —Å–µ—Ä–≤–∏—Å–∞–º–∏ –Ω–∞ —Å–µ—Ä–≤–µ—Ä–µ (VPN, backtester)

**–†–µ—à–µ–Ω–∏–µ**:
- –°–æ–∑–¥–∞–Ω `docker-compose.prod-no-nginx.yml` - –∫–æ–Ω—Ñ–∏–≥—É—Ä–∞—Ü–∏—è –±–µ–∑ –≤—Å—Ç—Ä–æ–µ–Ω–Ω–æ–≥–æ nginx
- GitHub Actions –∞–≤—Ç–æ–º–∞—Ç–∏—á–µ—Å–∫–∏ –æ–ø—Ä–µ–¥–µ–ª—è–µ—Ç –∫–æ–Ω—Ñ–ª–∏–∫—Ç –∏ –∏—Å–ø–æ–ª—å–∑—É–µ—Ç no-nginx –≤–µ—Ä—Å–∏—é
- `deploy.sh` –æ–±–Ω–æ–≤–ª–µ–Ω –¥–ª—è –∞–≤—Ç–æ–º–∞—Ç–∏—á–µ—Å–∫–æ–π –æ—á–∏—Å—Ç–∫–∏ –∫–æ–Ω—Ñ–ª–∏–∫—Ç—É—é—â–∏—Ö –ø–æ—Ä—Ç–æ–≤
- –°–æ–∑–¥–∞–Ω–∞ –∏–Ω—Å—Ç—Ä—É–∫—Ü–∏—è `PORT-CONFLICT-FIX.md` –¥–ª—è —Ä—É—á–Ω–æ–π –Ω–∞—Å—Ç—Ä–æ–π–∫–∏

## üì¶ –ß—Ç–æ –∏–∑–º–µ–Ω–∏–ª–æ—Å—å

- `frontend/Dockerfile.prod` - –≥–∏–±–∫–∞—è –ø–æ–¥–¥–µ—Ä–∂–∫–∞ npm ci/install
- `frontend/package-lock.json` - –¥–æ–±–∞–≤–ª–µ–Ω –¥–ª—è —Å—Ç–∞–±–∏–ª—å–Ω—ã—Ö production builds
- `.github/workflows/deploy.yml` - –∏—Å–ø—Ä–∞–≤–ª–µ–Ω git pull + –∞–≤—Ç–æ–æ–ø—Ä–µ–¥–µ–ª–µ–Ω–∏–µ –∫–æ–Ω—Ñ–ª–∏–∫—Ç–æ–≤ –ø–æ—Ä—Ç–æ–≤
- `docker-compose.prod-no-nginx.yml` - –∞–ª—å—Ç–µ—Ä–Ω–∞—Ç–∏–≤–Ω–∞—è –∫–æ–Ω—Ñ–∏–≥—É—Ä–∞—Ü–∏—è –±–µ–∑ nginx
- `deploy.sh` - –¥–æ–±–∞–≤–ª–µ–Ω–∞ –ø—Ä–æ–≤–µ—Ä–∫–∞ –∏ –æ—á–∏—Å—Ç–∫–∞ –ø–æ—Ä—Ç–æ–≤
- `PORT-CONFLICT-FIX.md` - –∏–Ω—Å—Ç—Ä—É–∫—Ü–∏—è –ø–æ —Ä–µ—à–µ–Ω–∏—é –∫–æ–Ω—Ñ–ª–∏–∫—Ç–æ–≤

## üöÄ –°–ª–µ–¥—É—é—â–∏–π —à–∞–≥

–ó–∞–∫–æ–º–º–∏—Ç—å—Ç–µ –∏ –∑–∞–ø—É—à—å—Ç–µ –∏–∑–º–µ–Ω–µ–Ω–∏—è:

```bash
git add .
git commit -m "Fix port conflicts and add no-nginx deployment option"
git push origin main
```

**GitHub Actions –∞–≤—Ç–æ–º–∞—Ç–∏—á–µ—Å–∫–∏**:
1. –û–ø—Ä–µ–¥–µ–ª–∏—Ç —á—Ç–æ –ø–æ—Ä—Ç 80 –∑–∞–Ω—è—Ç
2. –ò—Å–ø–æ–ª—å–∑—É–µ—Ç –∫–æ–Ω—Ñ–∏–≥—É—Ä–∞—Ü–∏—é –±–µ–∑ nginx
3. –ó–∞–ø—É—Å—Ç–∏—Ç backend –Ω–∞ –ø–æ—Ä—Ç—É 8001, frontend –Ω–∞ 3001

**–ü–æ—Å–ª–µ –¥–µ–ø–ª–æ—è** –Ω–∞—Å—Ç—Ä–æ–π—Ç–µ —Å—É—â–µ—Å—Ç–≤—É—é—â–∏–π nginx –∫–∞–∫ reverse proxy:
–°–º. –∏–Ω—Å—Ç—Ä—É–∫—Ü–∏—é: `PORT-CONFLICT-FIX.md`
